{"version":3,"sources":["componentes/Socket.js","componentes/Socketchat.js","componentes/SocketFlight.js","componentes/Flights.js","componentes/MapView.js","componentes/Chat.js","App.js","reportWebVitals.js","index.js"],"names":["socket","io","path","socketchat","socketflight","Flights","useState","vuelos","setVuelos","useEffect","emit","on","off","id","map","e","i","code","airline","origin","destination","plane","seats","passengers","name","age","position","MapView","posiciones","fillBlueOptions","fillColor","airplaneicon","L","icon","iconUrl","iconSize","MapContainer","className","center","zoom","scrollWheelZoom","TileLayer","attribution","url","p","Marker","Popup","f","Polyline","pathOptions","positions","Chat","nombre","mensaje","setMensaje","mensajes","setMensajes","setPosiciones","posicion","Date","date","toLocaleTimeString","message","onSubmit","preventDefault","value","onChange","target","App","setNombre","registrado","setRegistrado","htmlFor","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30402eaf.chunk.js","sourcesContent":["import io from 'socket.io-client';\r\n\r\nlet socket = io('http://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\r\n    path: \"/flights/\",\r\n  });\r\n\r\nexport default socket;\r\n","import io from 'socket.io-client';\r\n\r\nlet socketchat = io('http://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\r\n    path: \"/flights/\",\r\n  });\r\n\r\nexport default  socketchat;","import io from 'socket.io-client';\r\n\r\nlet socketflight = io('http://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\r\n    path: \"/flights/\",\r\n  });\r\n\r\nexport default  socketflight;","import React, {useState, useEffect , useRef} from 'react';\r\nimport socketflight from './SocketFlight';\r\nimport '../App.css';\r\n\r\n\r\n\r\nconst Flights = () => {\r\n\r\n    const [vuelos, setVuelos] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        socketflight.emit('FLIGHTS')\r\n\r\n    });\r\n\r\n    useEffect(() => {\r\n        socketflight.on('FLIGHTS', vuelos => {\r\n            setVuelos(vuelos);\r\n        })\r\n    \r\n        return () => {socketflight.off()}\r\n    }, [vuelos]);\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            \r\n            <div id = \"vuelos\">\r\n            <div id = \"izquierda\">\r\n            {vuelos.map((e,i)=> \r\n                    <div key={i} id=\"vuelo-particular\">\r\n                        <div><p><b>Codigo: </b>{e.code}</p></div>\r\n                        <div><p><b>Aerolinea: </b>{e.airline}</p></div>\r\n                        <div><p><b>Origen: </b>{e.origin}</p></div> \r\n                        <div><p><b>Destino: </b>{e.destination}</p></div> \r\n                        <div><p><b>Avi√≥n: </b>{e.plane}</p></div>\r\n                        <div><p><b>Asientos: </b>{e.seats}</p></div>\r\n                    </div>\r\n                    \r\n                    )}\r\n            </div>\r\n            <div id = \"derecha\">\r\n            {vuelos.map((e,i)=> \r\n                    <div key={i} id=\"vuelo-particular\">\r\n                        <div id=\"pasajeros\"><p><b>Pasajeros:</b></p>\r\n                            {e.passengers.map((e,i)=>\r\n                            <div key={i} >\r\n                                <div><p>{e.name}   ({e.age})</p></div>\r\n                            </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    )}\r\n\r\n            \r\n            </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default Flights","import React from 'react'\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet'\r\nimport L from 'leaflet';\r\n\r\nconst position = [-33, -70]\r\n\r\nconst MapView = ({posiciones, vuelos}) => {\r\n  const fillBlueOptions = { fillColor: 'blue' }\r\n  const airplaneicon = new L.icon({\r\n    iconUrl: \"https://image.flaticon.com/icons/png/512/984/984233.png\",\r\n    iconSize: [45,45],\r\n  });\r\n    return <MapContainer className= \"map-container\" center={position} zoom={7} scrollWheelZoom={false}>\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        {posiciones.map((p)=>\r\n        <Marker position={p.position} icon={airplaneicon} >\r\n            <Popup>\r\n                Code: {p.code}.\r\n            </Popup>\r\n        </Marker>\r\n    )};\r\n        {vuelos.map((f) =>\r\n        <>\r\n        <Polyline pathOptions={fillBlueOptions} positions={[f.origin,f.destination]} />\r\n            <Marker position={f.origin} >\r\n                <Popup>\r\n                    Origen: {f.origin}\r\n                </Popup>\r\n            </Marker>\r\n            <Marker position={f.destination}>\r\n                <Popup>\r\n                    Destino: {f.destination}\r\n                </Popup>\r\n            </Marker>\r\n\r\n\r\n            \r\n        </>\r\n    )\r\n    };\r\n      </MapContainer>\r\n\r\n}\r\n\r\nexport default MapView","import React, {useState, useEffect , useRef} from 'react';\r\nimport socketchat from './Socketchat';\r\nimport socket from './Socket';\r\nimport socketflight from './SocketFlight';\r\nimport '../App.css';\r\nimport Flights from './Flights';\r\nimport MapView from './MapView';\r\nimport Positions from './Positions';\r\n\r\n\r\nconst Chat = ({ nombre }) => {\r\n\r\n    const [mensaje, setMensaje] = useState(\"\");\r\n    const [mensajes, setMensajes] = useState([]);\r\n\r\n    const [posiciones, setPosiciones] = useState([]);\r\n    const [vuelos, setVuelos] = useState([]);\r\n\r\n    useEffect(() => {\r\n        socketchat.emit('conectado', nombre)\r\n\r\n    }, [nombre]);\r\n\r\n    useEffect(() => {\r\n        socketchat.on('CHAT', mensaje=> {\r\n            setMensajes([...mensajes, mensaje]);\r\n\r\n            \r\n        })\r\n        socket.on('POSITION', posicion => {\r\n            setPosiciones([...posiciones, posicion]);  \r\n         \r\n        })\r\n        socketflight.on('FLIGHTS', vuelos => {\r\n            setVuelos(vuelos);\r\n        })\r\n        return () => {socketchat.off()}\r\n    }, [mensajes]);\r\n\r\n    const submit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        var name = nombre;\r\n        var message = mensaje;\r\n\r\n        socketchat.emit('CHAT', {name, message});\r\n        setMensaje(\"\"); \r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div id = \"derecha\">\r\n            <div id=\"chat-general\">\r\n                {mensajes.map((e,i)=> \r\n                <div key={i} id=\"chat-particular\" >\r\n                <div><h4>{e.name} ({(new Date(e.date)).toLocaleTimeString()}): </h4>\r\n                <div>{e.message}</div> \r\n                </div></div>)}\r\n                \r\n            </div>\r\n            <form onSubmit={submit}>\r\n\r\n                <input id=\"mensaje\" name= \"\" value= {mensaje} onChange = {(e) => setMensaje(e.target.value)}>\r\n                </input>\r\n                <button >Enviar mensaje</button>\r\n            </form>\r\n            </div>\r\n            \r\n            <div id = \"mapa\">\r\n            <h3>Mapa</h3>\r\n                <MapView posiciones ={posiciones} vuelos={vuelos}/>\r\n\r\n            </div>\r\n            <div id = \"informaci√≥n-vuelos\">\r\n            <h3>Informaci√≥n de los vuelos</h3>\r\n                <div id = \"izq\">\r\n                <Flights />\r\n            </div>\r\n            </div>\r\n            \r\n        </div>\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default Chat","import socket from './componentes/Socket';\nimport './App.css';\nimport React, { useState }from 'react';\nimport Chat from './componentes/Chat';\n\nfunction App() {\n  const [nombre, setNombre] = useState(\"\");\n  const [registrado, setRegistrado] = useState(false);\n  const registrar = (e) => {\n    e.preventDefault();\n    if(nombre !== \"\"){\n      setRegistrado(true);\n    }\n  \n  }\n  return (\n    <div className=\"App\">\n  \n      {\n        !registrado && \n      <form onSubmit={registrar}>\n      <label htmlFor = \"\">Introduzca su nombre </label>\n      <input value= {nombre} onChange = {e => setNombre(e.target.value)}/>\n      <button >Ir a la aplicaci√≥n </button>\n      </form>\n      }\n      {\n        registrado &&\n        <Chat nombre ={nombre}/>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}